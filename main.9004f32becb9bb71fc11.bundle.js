(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(104);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),FlexColumn=__webpack_require__(109),SpacedBetween=__webpack_require__(162),currencies=__webpack_require__(24),chevron_down=__webpack_require__(949),styled=__webpack_require__(165),Flex=__webpack_require__(52),VerticalAligned_VerticalAligned=Object(styled.c)(Flex.a,{justifyContent:"center",flexDirection:"column"});__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(27),__webpack_require__(26),__webpack_require__(14),__webpack_require__(42),__webpack_require__(20),__webpack_require__(28),__webpack_require__(13),__webpack_require__(23),__webpack_require__(15),__webpack_require__(16);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var hooks_useModal=function(){var _useState2=_slicedToArray(Object(react.useState)(!1),2),isOpen=_useState2[0],setIsOpen=_useState2[1],toggleIsOpen=Object(react.useCallback)((function(){return setIsOpen((function(prev){return!prev}))}),[]),close=Object(react.useCallback)((function(){return setIsOpen(!1)}),[]),open=Object(react.useCallback)((function(){return setIsOpen(!0)}),[]);return{isOpen:isOpen,setIsOpen:setIsOpen,toggleIsOpen:toggleIsOpen,close:close,open:open}},FullscreenModal=__webpack_require__(212),CurrencyPickerView=__webpack_require__(126);__webpack_require__(80),__webpack_require__(40),__webpack_require__(103),__webpack_require__(56),__webpack_require__(118),__webpack_require__(119),__webpack_require__(36),__webpack_require__(41);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var CurrencyText=Object(styled.a)("span",(function(props){return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},props.$theme.typography.font750)})),CurrencyTextContainer=Object(styled.c)(Flex.a,{cursor:"pointer"}),_ref2=react_default.a.createElement(VerticalAligned_VerticalAligned,null,react_default.a.createElement(chevron_down.a,{size:28})),CurrencyPicker=function(_ref){var currency=_ref.currency,recents=_ref.recents,onCurrencySelected=_ref.onCurrencySelected,_useModal=hooks_useModal(),isOpen=_useModal.isOpen,closeModal=_useModal.close,toggleIsOpen=_useModal.toggleIsOpen,onSelected=Object(react.useCallback)((function(currencyCode){onCurrencySelected(currencyCode),closeModal()}),[closeModal,onCurrencySelected]);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(CurrencyTextContainer,{onClick:toggleIsOpen},react_default.a.createElement(CurrencyText,null,currency),_ref2),react_default.a.createElement(FullscreenModal.a,{isOpen:isOpen,onClose:closeModal},react_default.a.createElement(CurrencyPickerView.a,{back:closeModal,recents:recents,onSelected:onSelected})))};CurrencyPicker.__docgenInfo={description:"",methods:[],displayName:"CurrencyPicker",props:{currency:{required:!0,tsType:{name:"CurrencyCode"},description:""},recents:{required:!0,tsType:{name:"Set",elements:[{name:"CurrencyCode"}],raw:"Set<CurrencyCode>"},description:""},onCurrencySelected:{required:!0,tsType:{name:"signature",type:"function",raw:"(currency: CurrencyCode) => void",signature:{arguments:[{name:"currency",type:{name:"CurrencyCode"}}],return:{name:"void"}}},description:""}}};var CurrencyPicker_CurrencyPicker=react_default.a.memo(CurrencyPicker);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyPicker/CurrencyPicker.tsx"]={name:"CurrencyPicker",docgenInfo:CurrencyPicker.__docgenInfo,path:"src/modules/exchange/components/CurrencyPicker/CurrencyPicker.tsx"});__webpack_require__(35);var StyledCurrencyView=Object(styled.a)("div",(function(props){return{padding:"".concat(props.$theme.sizing.scale900," ").concat(props.$theme.sizing.scale600)}})),BalanceText=Object(styled.a)("span",(function(props){return{width:"fit-content",paddingTop:props.$theme.sizing.scale300,cursor:"pointer",color:props.$negative?props.$theme.colors.negative400:props.$theme.colors.primary400}})),input=(__webpack_require__(90),__webpack_require__(32),__webpack_require__(88),__webpack_require__(147),__webpack_require__(955)),merge=__webpack_require__(208),merge_default=__webpack_require__.n(merge);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function NumberInput_slicedToArray(arr,i){return function NumberInput_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function NumberInput_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function NumberInput_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return NumberInput_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NumberInput_arrayLikeToArray(o,minLen)}(arr,i)||function NumberInput_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NumberInput_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var NUMBER_INPUT_PATTERN=/^(\d+\.?\d{0,2})?$/,NumberInput=function(_ref){var onChange=_ref.onChange,overrides=_ref.overrides,rest=_objectWithoutProperties(_ref,["onChange","overrides"]),_useStyletron2=NumberInput_slicedToArray(Object(styled.b)(),2),theme=(_useStyletron2[0],_useStyletron2[1]);return react_default.a.createElement(input.a,_extends({placeholder:"0",onChange:function onNumberInputChange(event){event.currentTarget.value.match(NUMBER_INPUT_PATTERN)&&onChange&&onChange(event)},size:"compact",overrides:merge_default()({Root:{style:{width:"auto",justifyContent:"flex-end"}},Input:{style:{"text-align":"right",caretColor:theme.colors.accent400,paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px"}},InputContainer:{style:{borderWidth:"0px",backgroundColor:"transparent"}},StartEnhancer:{style:{backgroundColor:"transparent",color:theme.colors.black}}},overrides)},rest))};NumberInput.displayName="NumberInput",NumberInput.__docgenInfo={description:"",methods:[],displayName:"NumberInput"};var CurrencyView_NumberInput=NumberInput;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyView/NumberInput.tsx"]={name:"NumberInput",docgenInfo:NumberInput.__docgenInfo,path:"src/modules/exchange/components/CurrencyView/NumberInput.tsx"});var CurrencyView=function(_ref){var currency=_ref.currency,value=_ref.value,onValueChange=_ref.onValueChange,startEnhancer=_ref.startEnhancer,balance=_ref.balance,recents=_ref.recents,inputRef=_ref.inputRef,onCurrencySelected=_ref.onCurrencySelected,_ref$autoFocus=_ref.autoFocus,autoFocus=void 0!==_ref$autoFocus&&_ref$autoFocus,inputWidth=Math.min(10*(value.length+1),200);return react_default.a.createElement(StyledCurrencyView,null,react_default.a.createElement(FlexColumn.a,null,react_default.a.createElement(SpacedBetween.a,null,react_default.a.createElement(CurrencyPicker_CurrencyPicker,{currency:currency,recents:recents,onCurrencySelected:onCurrencySelected}),react_default.a.createElement(CurrencyView_NumberInput,{inputRef:inputRef,autoFocus:autoFocus,startEnhancer:value?startEnhancer:void 0,value:value,onChange:function onChange(event){onValueChange(event.currentTarget.value)},size:"large",overrides:{Input:{style:{width:"".concat(inputWidth,"px")}}}})),react_default.a.createElement(BalanceText,{onClick:function onBalanceTextClick(){onValueChange("".concat(balance))},$negative:"-"===startEnhancer&&+value>balance},"Balance: ".concat(Object(currencies.g)(currency,balance)))))};CurrencyView.displayName="CurrencyView",CurrencyView.__docgenInfo={description:"",methods:[],displayName:"CurrencyView",props:{autoFocus:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},currency:{required:!0,tsType:{name:"CurrencyCode"},description:""},value:{required:!0,tsType:{name:"string"},description:""},onValueChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(nextValue: string) => void",signature:{arguments:[{name:"nextValue",type:{name:"string"}}],return:{name:"void"}}},description:""},startEnhancer:{required:!0,tsType:{name:"union",raw:"'+' | '-'",elements:[{name:"literal",value:"'+'"},{name:"literal",value:"'-'"}]},description:""},balance:{required:!0,tsType:{name:"number"},description:""},recents:{required:!0,tsType:{name:"Set",elements:[{name:"CurrencyCode"}],raw:"Set<CurrencyCode>"},description:""},onCurrencySelected:{required:!0,tsType:{name:"signature",type:"function",raw:"(currency: CurrencyCode) => void",signature:{arguments:[{name:"currency",type:{name:"CurrencyCode"}}],return:{name:"void"}}},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},inputRef:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""}}};__webpack_exports__.a=react_default.a.memo(CurrencyView);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyView/CurrencyView.tsx"]={name:"CurrencyView",docgenInfo:CurrencyView.__docgenInfo,path:"src/modules/exchange/components/CurrencyView/CurrencyView.tsx"})},109:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FlexColumn_FlexColumn}));var styled=__webpack_require__(165),Flex=__webpack_require__(52),FlexColumn_FlexColumn=Object(styled.c)(Flex.a,{flexDirection:"column"})},123:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);function fullHeightDecorator(storyFn,context){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n            html, body, #root, #root > div:first-child { height: 100%; }\n            .sb-show-main { margin: 0px; }\n            #root > div:first-child {\n              display: flex;\n              flex-direction: column;\n            }\n        "}}),storyFn(context))}fullHeightDecorator.__docgenInfo={description:"",methods:[],displayName:"fullHeightDecorator"},__webpack_exports__.a=fullHeightDecorator,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/storybook/utils/fullHeightDecorator.tsx"]={name:"fullHeightDecorator",docgenInfo:fullHeightDecorator.__docgenInfo,path:"src/storybook/utils/fullHeightDecorator.tsx"})},124:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return USD_BASE_EXCHANGE_RATES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return applyNoiseToValue}));__webpack_require__(11),__webpack_require__(80),__webpack_require__(40),__webpack_require__(146),__webpack_require__(103),__webpack_require__(56),__webpack_require__(118),__webpack_require__(119),__webpack_require__(36),__webpack_require__(41);var USD_BASE_EXCHANGE_RATES={AED:3.6732,AFN:76.22674,ALL:114.387004,AMD:496.335888,ANG:1.790276,AOA:536.68,ARS:64.1366,AUD:1.659861,AWG:1.8,AZN:1.7025,BAM:1.777292,BBD:2,BDT:84.852365,BGN:1.777777,BHD:.376751,BIF:1889.471224,BMD:1,BND:1.433861,BOB:6.88597,BRL:5.083,BSD:1,BTC:.000150490462,BTN:75.210572,BWP:11.850098,BYN:2.581185,BZD:2.000264,CAD:1.411875,CDF:1710.770715,CHF:.963882,CLF:.030901,CLP:830,CNH:7.113747,CNY:7.0947,COP:3987.840736,CRC:577.833871,CUC:1,CUP:25.75,CVE:101.25,CZK:24.799833,DJF:178.05,DKK:6.79125,DOP:53.837726,DZD:124.067775,EGP:15.7495,ERN:14.999679,ETB:33.100153,EUR:.910258,FJD:2.32392,FKP:.816279,GBP:.816279,GEL:3.43,GGP:.816279,GHS:5.750855,GIP:.816279,GMD:50.915,GNF:9542.595753,GTQ:7.787143,GYD:208.61556,HKD:7.751652,HNL:24.70887,HRK:6.9322,HTG:94.943454,HUF:323.214663,IDR:16312.5,ILS:3.59155,IMP:.816279,INR:75.190003,IQD:1193.988905,IRR:42131.214988,ISK:140,JEP:.816279,JMD:134.96085,JOD:.709,JPY:108.78735294,KES:104.46,KGS:80.201495,KHR:4034.67589,KMF:450.875304,KPW:900,KRW:1225.06,KWD:.30903,KYD:.833481,KZT:446.100541,LAK:8929.477108,LBP:1512.464269,LKR:188.277363,LRD:197.650004,LSL:17.548719,LYD:1.420049,MAD:9.930801,MDL:18.101278,MGA:3759.305575,MKD:56.563038,MMK:1401.206213,MNT:2762.513581,MOP:7.984788,MRO:357,MRU:37.630799,MUR:39.205691,MVR:15.41,MWK:735.748131,MXN:23.561343,MYR:4.344999,MZN:66.61,NAD:17.39,NGN:386.807262,NIO:33.739682,NOK:10.612993,NPR:120.335656,NZD:1.690375,OMR:.385159,PAB:1,PEN:3.40853,PGK:3.470323,PHP:51.016,PKR:161.464385,PLN:4.116294,PYG:6574.859377,QAR:3.641,RON:4.4033,RSD:106.965,RUB:78.595,RWF:952.386739,SAR:3.757033,SBD:8.254337,SCR:13.729159,SDG:55.3,SEK:10.013194,SGD:1.435875,SHP:.816279,SLL:7598.83184,SOS:578.578123,SRD:7.458,SSP:130.26,STD:22134.769315,STN:22.65,SVC:8.750926,SYP:515.082703,SZL:17.546175,THB:32.577023,TJS:10.196695,TMT:3.51,TND:2.88,TOP:2.371742,TRY:6.454102,TTD:6.757721,TWD:30.236,TZS:2310.3,UAH:27.999401,UGX:3812.52638,USD:1,UYU:44.498535,UZS:9514.965689,VEF:248487.642241,VES:73719.610128,VND:23667.856729,VUV:121.515988,WST:2.732951,XAF:597.090257,XAG:.06997658,XAU:61588e-8,XCD:2.70255,XDR:.73772,XOF:597.090257,XPD:42728e-8,XPF:108.6227,XPT:.00136241,YER:250.349961,ZAR:17.60369,ZMW:17.877605,ZWL:322.000001},applyNoiseToValue=function(value,factor){return(.5>Math.random()?1-factor:1+factor)*value}},126:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(27),__webpack_require__(26),__webpack_require__(14),__webpack_require__(101),__webpack_require__(42),__webpack_require__(20),__webpack_require__(28),__webpack_require__(36),__webpack_require__(13),__webpack_require__(23),__webpack_require__(149),__webpack_require__(15),__webpack_require__(16);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),styled=__webpack_require__(165),arrow_left=__webpack_require__(948),input=__webpack_require__(955),button_button=__webpack_require__(956),Flex=__webpack_require__(52),lib_currencies=__webpack_require__(24),typography=__webpack_require__(43),flag=__webpack_require__(952),FlagEU=__webpack_require__(459),FlagEU_default=__webpack_require__.n(FlagEU),SectionParagraph=Object(styled.a)(typography.e,(function(props){return{paddingLeft:props.$theme.sizing.scale800,color:props.$theme.colors.primary400}})),list_item=(__webpack_require__(40),__webpack_require__(372),__webpack_require__(377),__webpack_require__(41),__webpack_require__(957)),list_item_label=__webpack_require__(947);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var CurrencyListItem=function(_ref){var currencies=_ref.currencies,currencyCode=_ref.currencyCode,_onClick=_ref.onClick,_useStyletron2=_slicedToArray(Object(styled.b)(),2),theme=(_useStyletron2[0],_useStyletron2[1]),artwork=function(currencies,currency){var FlagComponent,countryCode=currencies[currency].countryCode;return FlagComponent="EU"===countryCode?react_default.a.createElement(FlagEU_default.a,{width:"16px"}):react_default.a.createElement(flag.a,{iso:countryCode}),function(){return FlagComponent}}(currencies,currencyCode),description=currencies[currencyCode].name;return react_default.a.createElement(list_item.a,{artwork:artwork,overrides:{Root:{props:{onClick:function onClick(){return _onClick(currencyCode)}},style:{cursor:"pointer",":hover":{background:theme.colors.buttonMinimalHover}}}}},react_default.a.createElement(list_item_label.a,{description:description},currencyCode))};CurrencyListItem.displayName="CurrencyListItem",CurrencyListItem.__docgenInfo={description:"",methods:[],displayName:"CurrencyListItem",props:{currencies:{required:!0,tsType:{name:"Currencies"},description:""},currencyCode:{required:!0,tsType:{name:"CurrencyCode"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(currencyCode: CurrencyCode) => void",signature:{arguments:[{name:"currencyCode",type:{name:"CurrencyCode"}}],return:{name:"void"}}},description:""}}};var CurrentListItem=react_default.a.memo(CurrencyListItem);function CurrencyPickerView_slicedToArray(arr,i){return function CurrencyPickerView_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CurrencyPickerView_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function CurrencyPickerView_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return CurrencyPickerView_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CurrencyPickerView_arrayLikeToArray(o,minLen)}(arr,i)||function CurrencyPickerView_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CurrencyPickerView_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyPickerView/CurrentListItem.tsx"]={name:"CurrencyListItem",docgenInfo:CurrencyListItem.__docgenInfo,path:"src/modules/exchange/components/CurrencyPickerView/CurrentListItem.tsx"});var _ref2=react_default.a.createElement(arrow_left.a,{size:24}),CurrencyPickerView=function(_ref){var back=_ref.back,onSelected=_ref.onSelected,_ref$currencies=_ref.currencies,allCurrencies=void 0===_ref$currencies?lib_currencies.a:_ref$currencies,_ref$recents=_ref.recents,recentCurrencies=void 0===_ref$recents?new Set:_ref$recents,css=CurrencyPickerView_slicedToArray(Object(styled.b)(),1)[0],_useState2=CurrencyPickerView_slicedToArray(Object(react.useState)(""),2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],_useMemo2=CurrencyPickerView_slicedToArray(Object(react.useMemo)((function(){return function(currencies,searchQuery,recentCurrencies){var recentsAcc={},othersAcc={};return Object.keys(currencies).forEach((function(cc){var currencyCode=cc,name=currencies[currencyCode].name;(currencyCode.toLowerCase().includes(searchQuery)||name.toLowerCase().includes(searchQuery))&&(recentCurrencies.has(currencyCode)?recentsAcc[currencyCode]=currencies[currencyCode]:othersAcc[currencyCode]=currencies[currencyCode])})),[recentsAcc,othersAcc]}(allCurrencies,searchQuery.toLowerCase(),recentCurrencies)}),[allCurrencies,recentCurrencies,searchQuery]),2),recents=_useMemo2[0],others=_useMemo2[1],renderCurrencies=function(header,currencies){var currencyKeys=Object.keys(currencies);return 0===currencyKeys.length?null:react_default.a.createElement("div",null,react_default.a.createElement(SectionParagraph,null,header),react_default.a.createElement("ul",{className:css({paddingLeft:0,paddingRight:0})},currencyKeys.map((function(cc){return react_default.a.createElement(CurrentListItem,{key:cc,currencyCode:cc,currencies:currencies,onClick:onSelected})}))))};return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Flex.a,null,react_default.a.createElement(button_button.a,{kind:"minimal",onClick:back},_ref2),react_default.a.createElement(input.a,{autoFocus:!0,clearable:!0,value:searchQuery,onChange:function onChange(e){return setSearchQuery(e.currentTarget.value)},overrides:{Input:{style:{backgroundColor:"#fff"}},InputContainer:{style:{borderWidth:"0px"}},ClearIconContainer:{style:{backgroundColor:"#fff"}}}})),react_default.a.createElement(react_default.a.Fragment,null,renderCurrencies("Recently used",recents),renderCurrencies("Others",others)))};CurrencyPickerView.__docgenInfo={description:"",methods:[],displayName:"CurrencyPickerView",props:{currencies:{defaultValue:{value:"CURRENCIES",computed:!0},required:!1,tsType:{name:"Currencies"},description:""},recents:{defaultValue:{value:"new Set()",computed:!1},required:!1,tsType:{name:"Set",elements:[{name:"CurrencyCode"}],raw:"Set<CurrencyCode>"},description:""},back:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSelected:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: CurrencyCode) => void",signature:{arguments:[{name:"selected",type:{name:"CurrencyCode"}}],return:{name:"void"}}},description:""}}};__webpack_exports__.a=react_default.a.memo(CurrencyPickerView);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyPickerView/CurrencyPickerView.tsx"]={name:"CurrencyPickerView",docgenInfo:CurrencyPickerView.__docgenInfo,path:"src/modules/exchange/components/CurrencyPickerView/CurrencyPickerView.tsx"})},127:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return utils_configureStory}));var react=__webpack_require__(0),sinon=__webpack_require__(461),sinon_default=__webpack_require__.n(sinon),useSandbox=function(setupMocks){var sandbox=sinon_default.a.createSandbox(),hasMocksBeenSet=Object(react.useRef)(!1);hasMocksBeenSet.current||setupMocks(sandbox),hasMocksBeenSet.current=!0,Object(react.useEffect)((function(){return function(){sandbox.restore()}}),[sandbox])};var utils_mockDecorator=function mockDecorator(setupMocks){return function(storyFn,context){return useSandbox(setupMocks),storyFn(context)}};__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(35),__webpack_require__(80),__webpack_require__(40),__webpack_require__(27),__webpack_require__(90),__webpack_require__(26),__webpack_require__(14),__webpack_require__(42),__webpack_require__(20),__webpack_require__(28),__webpack_require__(103),__webpack_require__(56),__webpack_require__(118),__webpack_require__(119),__webpack_require__(36),__webpack_require__(13),__webpack_require__(23),__webpack_require__(15),__webpack_require__(41),__webpack_require__(16);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var utils_configureStory=function(_ref){var setupMocks=_ref.setupMocks,_ref$decorators=_ref.decorators,passedDecorators=void 0===_ref$decorators?[]:_ref$decorators;return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},_objectWithoutProperties(_ref,["setupMocks","decorators"]),{decorators:setupMocks?[].concat(_toConsumableArray(passedDecorators),[utils_mockDecorator(setupMocks)]):passedDecorators,setupMocks:setupMocks})}},130:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return StyledBottom})),__webpack_require__.d(__webpack_exports__,"c",(function(){return StyledExchangeRateOverlay})),__webpack_require__.d(__webpack_exports__,"a",(function(){return PullDown}));var baseui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(165),shared_components_flex_Flex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(52),StyledBottom=Object(baseui__WEBPACK_IMPORTED_MODULE_0__.c)(shared_components_flex_Flex__WEBPACK_IMPORTED_MODULE_1__.a,(function(props){return{height:"100%",position:"relative",flexDirection:"column",backgroundColor:props.$theme.colors.primary100}})),StyledExchangeRateOverlay=Object(baseui__WEBPACK_IMPORTED_MODULE_0__.c)(shared_components_flex_Flex__WEBPACK_IMPORTED_MODULE_1__.a,{top:"calc(-12px - 0.5em)",left:"50%",position:"absolute",transform:"translate(-50%, 0)"}),PullDown=Object(baseui__WEBPACK_IMPORTED_MODULE_0__.a)("div",{padding:"16px",marginTop:"auto"})},159:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(35),__webpack_require__(27),__webpack_require__(26),__webpack_require__(14),__webpack_require__(42),__webpack_require__(20),__webpack_require__(28),__webpack_require__(117),__webpack_require__(13),__webpack_require__(23),__webpack_require__(15),__webpack_require__(16);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),styled=__webpack_require__(165);__webpack_require__(293),__webpack_require__(90),__webpack_require__(32),__webpack_require__(36);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var _ref2=react_default.a.createElement("title",null,"TrendingUp icon"),_ref3=react_default.a.createElement("g",{"data-name":"Layer 2"},react_default.a.createElement("path",{d:"M21 7a.78.78 0 000-.21.64.64 0 00-.05-.17 1.1 1.1 0 00-.09-.14.75.75 0 00-.14-.17l-.12-.07a.69.69 0 00-.19-.1h-.2A.7.7 0 0020 6h-5a1 1 0 000 2h2.83l-4 4.71-4.32-2.57a1 1 0 00-1.28.22l-5 6a1 1 0 00.13 1.41A1 1 0 004 18a1 1 0 00.77-.36l4.45-5.34 4.27 2.56a1 1 0 001.27-.21L19 9.7V12a1 1 0 002 0V7z","data-name":"trending-up"})),TrendingUp=function(_ref){var _ref$fill=_ref.fill,fill=void 0===_ref$fill?"currentColor":_ref$fill,rest=_objectWithoutProperties(_ref,["fill"]);return react_default.a.createElement("svg",_extends({viewBox:"0 0 24 24",height:"20",width:"20",focusable:"false",role:"img",fill:fill,xmlns:"http://www.w3.org/2000/svg"},rest),_ref2,_ref3)};TrendingUp.displayName="TrendingUp",TrendingUp.__docgenInfo={description:"",methods:[],displayName:"TrendingUp",props:{fill:{defaultValue:{value:"'currentColor'",computed:!1},required:!1}}};var TrendingUp_TrendingUp=TrendingUp;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/icons/TrendingUp/TrendingUp.tsx"]={name:"TrendingUp",docgenInfo:TrendingUp.__docgenInfo,path:"src/shared/components/icons/TrendingUp/TrendingUp.tsx"});var currencies=__webpack_require__(24),Link=__webpack_require__(211),StyledExchangeRate=Object(styled.a)("div",(function(props){return{display:"inline-flex",width:"fit-content",fontSize:"1em",borderRadius:props.$theme.sizing.scale900,border:"".concat(props.$theme.sizing.scale0," solid ").concat(props.$theme.colors.primary100),padding:"0.5em",backgroundColor:props.$theme.colors.white}})),ExchangeRateText=Object(styled.a)("span",(function(props){return{color:props.$theme.colors.accent400,marginLeft:props.$theme.sizing.scale400}}));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ExchangeRate=function(_ref){var from=_ref.from,to=_ref.to,exchangeRate=_ref.exchangeRate,_useStyletron2=_slicedToArray(Object(styled.b)(),2),css=_useStyletron2[0],theme=_useStyletron2[1],fromSymbol=Object(currencies.h)(from),originText="1".concat(fromSymbol),targetText=Object(currencies.i)(to,exchangeRate.toFixed(4));return react_default.a.createElement(Link.a,{to:"/historical?from=".concat(from,"&to=").concat(to),className:css({textDecoration:"none"})},react_default.a.createElement(StyledExchangeRate,null,react_default.a.createElement(TrendingUp_TrendingUp,{fill:theme.colors.accent400}),react_default.a.createElement(ExchangeRateText,null,"".concat(originText," = ").concat(targetText))))};ExchangeRate.displayName="ExchangeRate",ExchangeRate.__docgenInfo={description:"",methods:[],displayName:"ExchangeRate",props:{from:{required:!0,tsType:{name:"CurrencyCode"},description:""},to:{required:!0,tsType:{name:"CurrencyCode"},description:""},exchangeRate:{required:!0,tsType:{name:"number"},description:""}}};__webpack_exports__.a=react_default.a.memo(ExchangeRate);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeRate/ExchangeRate.tsx"]={name:"ExchangeRate",docgenInfo:ExchangeRate.__docgenInfo,path:"src/modules/exchange/components/ExchangeRate/ExchangeRate.tsx"})},162:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SpacedBetween}));var styled=__webpack_require__(165),Flex=__webpack_require__(52),SpacedBetween=Object(styled.c)(Flex.a,{justifyContent:"space-between"})},203:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(35),__webpack_require__(27),__webpack_require__(26),__webpack_require__(14),__webpack_require__(42),__webpack_require__(20),__webpack_require__(28),__webpack_require__(13),__webpack_require__(23),__webpack_require__(15),__webpack_require__(16);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),FlexColumn=__webpack_require__(109),check=__webpack_require__(950),styled=__webpack_require__(165),ExchangeView_elements=__webpack_require__(130),PrimaryButton=__webpack_require__(210),Flex=__webpack_require__(52),Centered_Centered=Object(styled.c)(Flex.a,{justifyContent:"center",alignItems:"center",height:"100%"}),typography=__webpack_require__(43),currencies=__webpack_require__(24);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ExchangeCompletedScreen=function(_ref){var onDone=_ref.onDone,origin=_ref.origin,target=_ref.target,_useStyletron2=_slicedToArray(Object(styled.b)(),2),css=_useStyletron2[0],theme=_useStyletron2[1],color=theme.colors.accent400,originSymbol=Object(currencies.h)(origin.currency),targetSymbol=Object(currencies.h)(target.currency),exchangeText="You exchanged ".concat(originSymbol).concat(origin.value," to ").concat(targetSymbol).concat(target.value);return react_default.a.createElement(FlexColumn.a,{className:css({height:"100%"})},react_default.a.createElement(Centered_Centered,null,react_default.a.createElement(FlexColumn.a,null,react_default.a.createElement("div",{className:css({textAlign:"center"})},react_default.a.createElement(check.a,{size:96,color:color,overrides:{Svg:{style:{borderRadius:"50%",border:"".concat(theme.sizing.scale0," solid ").concat(color)}}}})),react_default.a.createElement(typography.b,null,exchangeText))),react_default.a.createElement(ExchangeView_elements.a,null,react_default.a.createElement(PrimaryButton.a,{onClick:onDone},"Done")))};ExchangeCompletedScreen.displayName="ExchangeCompletedScreen",ExchangeCompletedScreen.__docgenInfo={description:"",methods:[],displayName:"ExchangeCompletedScreen",props:{onDone:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},origin:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  value: string;\n  currency: CurrencyCode;\n}",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"currency",value:{name:"CurrencyCode",required:!0}}]}},description:""},target:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  value: string;\n  currency: CurrencyCode;\n}",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"currency",value:{name:"CurrencyCode",required:!0}}]}},description:""}}};__webpack_exports__.a=ExchangeCompletedScreen;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeCompletedScreen/ExchangeCompletedScreen.tsx"]={name:"ExchangeCompletedScreen",docgenInfo:ExchangeCompletedScreen.__docgenInfo,path:"src/modules/exchange/components/ExchangeCompletedScreen/ExchangeCompletedScreen.tsx"})},209:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UnreachableCaseError}));__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(90),__webpack_require__(14),__webpack_require__(20),__webpack_require__(253),__webpack_require__(273),__webpack_require__(275),__webpack_require__(180),__webpack_require__(276),__webpack_require__(13),__webpack_require__(930),__webpack_require__(23),__webpack_require__(15),__webpack_require__(16);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var UnreachableCaseError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(UnreachableCaseError,_Error);var _super=function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(UnreachableCaseError);function UnreachableCaseError(val){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UnreachableCaseError),_super.call(this,"Unreachable case: ".concat(val))}return UnreachableCaseError}(_wrapNativeSuper(Error))},210:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PrimaryButton_PrimaryButton}));__webpack_require__(32);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),button_button=__webpack_require__(956),constants=__webpack_require__(12);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var PrimaryButton=function(props){return react_default.a.createElement(button_button.a,_extends({shape:constants.b.pill,overrides:{BaseButton:{style:{width:"100%",backgroundColor:"rgb(235, 0, 141)",":hover":{backgroundColor:"rgb(210, 0, 126);"},":disabled":{opacity:.5,backgroundColor:"rgb(235, 0, 141)"}}}}},props))};PrimaryButton.displayName="PrimaryButton",PrimaryButton.__docgenInfo={description:"",methods:[],displayName:"PrimaryButton"};var PrimaryButton_PrimaryButton=PrimaryButton;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/buttons/PrimaryButton/PrimaryButton.tsx"]={name:"PrimaryButton",docgenInfo:PrimaryButton.__docgenInfo,path:"src/shared/components/buttons/PrimaryButton/PrimaryButton.tsx"})},211:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Link_Link}));__webpack_require__(11),__webpack_require__(90),__webpack_require__(32),__webpack_require__(36);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),next_link=__webpack_require__(462),link_default=__webpack_require__.n(next_link);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Link=react_default.a.forwardRef((function(_ref,ref){var to=_ref.to,rest=_objectWithoutProperties(_ref,["to"]);return react_default.a.createElement(link_default.a,{href:to},react_default.a.createElement("a",_extends({},rest,{ref:ref})))}));Link.__docgenInfo={description:"",methods:[],displayName:"Link"};var Link_Link=Link;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/Link/Link.tsx"]={name:"Link",docgenInfo:Link.__docgenInfo,path:"src/shared/components/Link/Link.tsx"})},212:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FullscreenModal_FullscreenModal}));__webpack_require__(32);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),modal=__webpack_require__(953),constants=__webpack_require__(75);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var FullscreenModal=function(props){return react_default.a.createElement(modal.a,_extends({size:constants.c.full,overrides:{Close:{style:{display:"none"}},Root:{style:{margin:"0px"}},Dialog:{style:{marginLeft:"0px",marginRight:"0px",marginTop:"0px",marginBottom:"0px"}}}},props))};FullscreenModal.displayName="FullscreenModal",FullscreenModal.__docgenInfo={description:"",methods:[],displayName:"FullscreenModal"};var FullscreenModal_FullscreenModal=FullscreenModal;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/modals/FullscreenModal/FullscreenModal.tsx"]={name:"FullscreenModal",docgenInfo:FullscreenModal.__docgenInfo,path:"src/shared/components/modals/FullscreenModal/FullscreenModal.tsx"})},24:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CURRENCIES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULT_BALANCES})),__webpack_require__.d(__webpack_exports__,"h",(function(){return currencySymbol})),__webpack_require__.d(__webpack_exports__,"i",(function(){return currencyText})),__webpack_require__.d(__webpack_exports__,"g",(function(){return currencyLocaleText})),__webpack_require__.d(__webpack_exports__,"c",(function(){return calculateExchangeRate})),__webpack_require__.d(__webpack_exports__,"d",(function(){return calculateOriginValue})),__webpack_require__.d(__webpack_exports__,"e",(function(){return calculateTarget})),__webpack_require__.d(__webpack_exports__,"f",(function(){return calculateTargetValue}));__webpack_require__(11),__webpack_require__(35),__webpack_require__(80),__webpack_require__(40),__webpack_require__(146),__webpack_require__(28),__webpack_require__(104),__webpack_require__(117),__webpack_require__(103),__webpack_require__(56),__webpack_require__(118),__webpack_require__(119),__webpack_require__(36),__webpack_require__(41);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var CURRENCIES={AED:{name:"United Arab Emirates Dirham",symbol:"AED",countryCode:"AE"},AFN:{name:"Afghan Afghani",symbol:"Af",countryCode:"AF"},ALL:{name:"Albanian Lek",symbol:"L",countryCode:"AL"},AMD:{name:"Armenian Dram",symbol:"֏",countryCode:"AM"},BRL:{name:"Brazilian Real",symbol:"R$",countryCode:"BR"},CAD:{name:"Canadian Dollar",symbol:"$",countryCode:"CA"},CHF:{name:"Swiss Franc",symbol:"CHF",countryCode:"CH"},DKK:{name:"Danish Krone",symbol:"kr.",countryCode:"DK"},EUR:{name:"Euro",symbol:"€",countryCode:"EU"},GBP:{name:"British Pound Sterling",symbol:"£",countryCode:"GB"},HRK:{name:"Croatian Kuna",symbol:"kn",countryCode:"HR"},HUF:{name:"Hungarian Forint",symbol:"Ft",countryCode:"HU"},ISK:{name:"Icelandic Króna",symbol:"kr",countryCode:"IS"},NOK:{name:"Norwegian Krone",symbol:"kr",countryCode:"NO"},PLN:{name:"Polish Zloty",symbol:"zł",countryCode:"PL"},RSD:{name:"Serbian Dinar",symbol:"din",countryCode:"RS"},RUB:{name:"Russian Ruble",symbol:"₽",countryCode:"RU"},SEK:{name:"Swedish Krona",symbol:"kr",countryCode:"SE"},USD:{name:"United States Dollar",symbol:"$",countryCode:"US"}},DEFAULT_BALANCES=Object.keys(CURRENCIES).reduce((function(acc,countryCode){return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},acc,_defineProperty({},countryCode,1e4))}),{}),currencySymbol=function(currency){return CURRENCIES[currency].symbol},currencyText=function(currency,value){return"".concat(currencySymbol(currency)).concat(value)},currencyLocaleText=function(currency,value){return currencyText(currency,value.toLocaleString())},calculateExchangeRate=function(rates,originCurrency,targetCurrency){var baseToOrigin=rates[originCurrency];return rates[targetCurrency]*(1/baseToOrigin)},calculateOriginValue=function(targetValue,exchangeRate){return(+targetValue/exchangeRate).toFixed(2)},calculateTarget=function(originValue,exchangeRate){return originValue*exchangeRate},calculateTargetValue=function(originValue,exchangeRate){return calculateTarget(+originValue,exchangeRate).toFixed(2)}},481:function(module,exports,__webpack_require__){__webpack_require__(482),__webpack_require__(627),__webpack_require__(932),module.exports=__webpack_require__(784)},52:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Flex_Flex}));var styled=__webpack_require__(165),Flex_Flex=Object(styled.a)("div",{display:"flex"})},546:function(module,exports){},784:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(204);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(786)],module)}.call(this,__webpack_require__(785)(module))},786:function(module,exports,__webpack_require__){var map={"./modules/exchange/components/CurrencyPickerView/CurrencyPicker.stories.tsx":787,"./modules/exchange/components/CurrencyView/CurrencyView.stories.tsx":802,"./modules/exchange/components/ExchangeCompletedScreen/ExchangeCompletedScreen.stories.tsx":805,"./modules/exchange/components/ExchangeRate/ExchangeRate.stories.tsx":849,"./modules/exchange/components/ExchangeRateHistory/ExchangeRateHistory.stories.tsx":933,"./modules/exchange/components/ExchangeView/ExchangeView.stories.tsx":931};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=786},787:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base})),__webpack_require__.d(__webpack_exports__,"WithRecents",(function(){return WithRecents})),__webpack_require__.d(__webpack_exports__,"WithSingleCurrency",(function(){return WithSingleCurrency}));__webpack_require__(14),__webpack_require__(32),__webpack_require__(13),__webpack_require__(149),__webpack_require__(15),__webpack_require__(16);var react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(107),shared_lib_currencies__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24),_CurrencyPickerView__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(126);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}__webpack_exports__.default={title:"CurrencyPickerView"};var baseProps={back:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("back"),onSelected:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("onClick")},Base=function(storyProps){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_CurrencyPickerView__WEBPACK_IMPORTED_MODULE_9__.a,_extends({},baseProps,storyProps))};Base.displayName="Base";var WithRecents=function(storyProps){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_CurrencyPickerView__WEBPACK_IMPORTED_MODULE_9__.a,_extends({},baseProps,storyProps,{recents:new Set(["NOK","EUR"])}))};WithRecents.displayName="WithRecents";var WithSingleCurrency=function(storyProps){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_CurrencyPickerView__WEBPACK_IMPORTED_MODULE_9__.a,_extends({},baseProps,storyProps,{currencies:{USD:shared_lib_currencies__WEBPACK_IMPORTED_MODULE_8__.a.USD}}))};WithSingleCurrency.displayName="WithSingleCurrency",Base.__docgenInfo={description:"",methods:[],displayName:"Base"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyPickerView/CurrencyPicker.stories.tsx"]={name:"Base",docgenInfo:Base.__docgenInfo,path:"src/modules/exchange/components/CurrencyPickerView/CurrencyPicker.stories.tsx"}),WithRecents.__docgenInfo={description:"",methods:[],displayName:"WithRecents"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyPickerView/CurrencyPicker.stories.tsx"]={name:"WithRecents",docgenInfo:WithRecents.__docgenInfo,path:"src/modules/exchange/components/CurrencyPickerView/CurrencyPicker.stories.tsx"}),WithSingleCurrency.__docgenInfo={description:"",methods:[],displayName:"WithSingleCurrency"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyPickerView/CurrencyPicker.stories.tsx"]={name:"WithSingleCurrency",docgenInfo:WithSingleCurrency.__docgenInfo,path:"src/modules/exchange/components/CurrencyPickerView/CurrencyPicker.stories.tsx"})},802:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NOK_120",(function(){return NOK_120})),__webpack_require__.d(__webpack_exports__,"USD_500",(function(){return USD_500}));__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(27),__webpack_require__(26),__webpack_require__(14),__webpack_require__(42),__webpack_require__(20),__webpack_require__(28),__webpack_require__(32),__webpack_require__(13),__webpack_require__(23),__webpack_require__(149),__webpack_require__(15),__webpack_require__(16);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__),_CurrencyView__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(106);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"CurrencyView"};var useCurrencyView=function(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref$initialCurrency=_ref.initialCurrency,initialCurrency=void 0===_ref$initialCurrency?"NOK":_ref$initialCurrency,_useState=Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(""),_useState2=_slicedToArray(_useState,2),value=_useState2[0],onValueChange=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(initialCurrency),_useState4=_slicedToArray(_useState3,2),currency=_useState4[0],onCurrencySelected=_useState4[1];return{value:value,currency:currency,onCurrencySelected:onCurrencySelected,onValueChange:onValueChange}},NOK_120=function(){var baseProps=useCurrencyView();return react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_CurrencyView__WEBPACK_IMPORTED_MODULE_16__.a,_extends({},baseProps,{startEnhancer:"-",balance:120,recents:new Set}))};NOK_120.displayName="NOK_120";var USD_500=function(){var baseProps=useCurrencyView({initialCurrency:"USD"});return react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_CurrencyView__WEBPACK_IMPORTED_MODULE_16__.a,_extends({},baseProps,{startEnhancer:"-",balance:500,recents:new Set(["NOK"])}))};USD_500.displayName="USD_500",NOK_120.__docgenInfo={description:"",methods:[],displayName:"NOK_120"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyView/CurrencyView.stories.tsx"]={name:"NOK_120",docgenInfo:NOK_120.__docgenInfo,path:"src/modules/exchange/components/CurrencyView/CurrencyView.stories.tsx"}),USD_500.__docgenInfo={description:"",methods:[],displayName:"USD_500"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencyView/CurrencyView.stories.tsx"]={name:"USD_500",docgenInfo:USD_500.__docgenInfo,path:"src/modules/exchange/components/CurrencyView/CurrencyView.stories.tsx"})},805:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base}));__webpack_require__(32);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(107),storybook_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(127),storybook_utils_fullHeightDecorator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(123),_ExchangeCompletedScreen__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(203);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}__webpack_exports__.default={title:"ExchangeCompletedScreen"};var baseProps={onDone:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onDone")},Base=function(storyProps){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ExchangeCompletedScreen__WEBPACK_IMPORTED_MODULE_5__.a,_extends({},baseProps,storyProps,{origin:{value:"1",currency:"NOK"},target:{currency:"EUR",value:"0.08"}}))};Base.displayName="Base",Base.story=Object(storybook_utils__WEBPACK_IMPORTED_MODULE_3__.a)({decorators:[storybook_utils_fullHeightDecorator__WEBPACK_IMPORTED_MODULE_4__.a]}),Base.__docgenInfo={description:"",methods:[],displayName:"Base"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeCompletedScreen/ExchangeCompletedScreen.stories.tsx"]={name:"Base",docgenInfo:Base.__docgenInfo,path:"src/modules/exchange/components/ExchangeCompletedScreen/ExchangeCompletedScreen.stories.tsx"})},849:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NOKtoEUR",(function(){return NOKtoEUR})),__webpack_require__.d(__webpack_exports__,"AEDtoEUR",(function(){return AEDtoEUR}));__webpack_require__(32);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(107),_ExchangeRate__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(159);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}__webpack_exports__.default={title:"ExchangeRate"};var baseProps={onClick:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onClick")},NOKtoEUR=function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ExchangeRate__WEBPACK_IMPORTED_MODULE_3__.a,_extends({},baseProps,{from:"NOK",to:"EUR",exchangeRate:.0877}))};NOKtoEUR.displayName="NOKtoEUR",NOKtoEUR.story={name:"NOK -> EUR"};var AEDtoEUR=function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ExchangeRate__WEBPACK_IMPORTED_MODULE_3__.a,_extends({},baseProps,{from:"AED",to:"EUR",exchangeRate:.2605}))};AEDtoEUR.displayName="AEDtoEUR",AEDtoEUR.story={name:"AED -> EUR"},NOKtoEUR.__docgenInfo={description:"",methods:[],displayName:"NOKtoEUR"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeRate/ExchangeRate.stories.tsx"]={name:"NOKtoEUR",docgenInfo:NOKtoEUR.__docgenInfo,path:"src/modules/exchange/components/ExchangeRate/ExchangeRate.stories.tsx"}),AEDtoEUR.__docgenInfo={description:"",methods:[],displayName:"AEDtoEUR"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeRate/ExchangeRate.stories.tsx"]={name:"AEDtoEUR",docgenInfo:AEDtoEUR.__docgenInfo,path:"src/modules/exchange/components/ExchangeRate/ExchangeRate.stories.tsx"})},931:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base}));__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(27),__webpack_require__(26),__webpack_require__(14),__webpack_require__(42),__webpack_require__(20),__webpack_require__(28),__webpack_require__(13),__webpack_require__(23),__webpack_require__(15),__webpack_require__(16);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),utils=__webpack_require__(127),fullHeightDecorator=__webpack_require__(123),lib_currencies=__webpack_require__(24),exchangeRates=__webpack_require__(124),ExchangeRate=__webpack_require__(159),styled=(__webpack_require__(35),__webpack_require__(32),__webpack_require__(165));__webpack_require__(293),__webpack_require__(90),__webpack_require__(36);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var SwitchVertical_ref2=react_default.a.createElement("title",null,"SwitchVertical icon"),_ref3=react_default.a.createElement("path",{d:"M5 12a1 1 0 102 0V6.414l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L5 6.414V12zm10-4a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"}),SwitchVertical=function(_ref){var size=_ref.size,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"currentColor":_ref$fill,rest=_objectWithoutProperties(_ref,["size","fill"]);return react_default.a.createElement("svg",_extends({viewBox:"0 0 ".concat(size," ").concat(size),height:size,width:size,focusable:"false",role:"img",fill:fill,xmlns:"http://www.w3.org/2000/svg"},rest),SwitchVertical_ref2,_ref3)};SwitchVertical.displayName="SwitchVertical",SwitchVertical.__docgenInfo={description:"",methods:[],displayName:"SwitchVertical",props:{fill:{defaultValue:{value:"'currentColor'",computed:!1},required:!1},size:{required:!0,tsType:{name:"number"},description:""}}};var SwitchVertical_SwitchVertical=SwitchVertical;function CurrencySwitch_extends(){return(CurrencySwitch_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/icons/SwitchVertical/SwitchVertical.tsx"]={name:"SwitchVertical",docgenInfo:SwitchVertical.__docgenInfo,path:"src/shared/components/icons/SwitchVertical/SwitchVertical.tsx"});var CurrencySwitch=function(props){var _useStyletron2=_slicedToArray(Object(styled.b)(),2),css=_useStyletron2[0],theme=_useStyletron2[1],className=css({padding:"0.5em",borderRadius:theme.sizing.scale900,border:"".concat(theme.sizing.scale0," solid ").concat(theme.colors.primary100),top:"calc(-".concat(theme.sizing.scale400," - ").concat("0.5em",")"),left:theme.sizing.scale600,cursor:"pointer",position:"absolute",backgroundColor:"#fff"});return react_default.a.createElement(SwitchVertical_SwitchVertical,CurrencySwitch_extends({"data-testid":"currency-switch",size:20,fill:theme.colors.accent400,className:className},props))};CurrencySwitch.displayName="CurrencySwitch",CurrencySwitch.__docgenInfo={description:"",methods:[],displayName:"CurrencySwitch"};var CurrencySwitch_CurrencySwitch=react_default.a.memo(CurrencySwitch);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/CurrencySwitch/CurrencySwitch.tsx"]={name:"CurrencySwitch",docgenInfo:CurrencySwitch.__docgenInfo,path:"src/modules/exchange/components/CurrencySwitch/CurrencySwitch.tsx"});__webpack_require__(104),__webpack_require__(117);var FullscreenModal=__webpack_require__(212),PrimaryButton=__webpack_require__(210),ExchangeCompletedScreen=__webpack_require__(203);function ExchangeButton_slicedToArray(arr,i){return function ExchangeButton_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ExchangeButton_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ExchangeButton_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ExchangeButton_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ExchangeButton_arrayLikeToArray(o,minLen)}(arr,i)||function ExchangeButton_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ExchangeButton_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ExchangeButton=function(_ref){var originValue=_ref.originValue,originCurrency=_ref.originCurrency,originCurrencyBalance=_ref.originCurrencyBalance,targetCurrency=_ref.targetCurrency,onExchange=_ref.onExchange,_useState2=ExchangeButton_slicedToArray(Object(react.useState)(!1),2),exchanging=_useState2[0],setExchanging=_useState2[1],_useState4=ExchangeButton_slicedToArray(Object(react.useState)(NaN),2),exchangedAmount=_useState4[0],setExchangedAmount=_useState4[1],isOpen=Object(react.useMemo)((function(){return!isNaN(exchangedAmount)}),[exchangedAmount]),closeModal=Object(react.useCallback)((function(){return setExchangedAmount(NaN)}),[]);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(FullscreenModal.a,{isOpen:isOpen,onClose:closeModal},react_default.a.createElement(ExchangeCompletedScreen.a,{onDone:closeModal,origin:{value:originValue,currency:originCurrency},target:{value:exchangedAmount.toFixed(2),currency:targetCurrency}})),react_default.a.createElement(PrimaryButton.a,{type:"submit",disabled:+originValue>originCurrencyBalance||!originValue,isLoading:exchanging,onClick:function onExchangeClick(){setExchanging(!0),onExchange().then((function(nextExchangedAmount){setExchangedAmount(nextExchangedAmount),setExchanging(!1)}))}},"Exchange"))};ExchangeButton.__docgenInfo={description:"",methods:[],displayName:"ExchangeButton",props:{originValue:{required:!0,tsType:{name:"string"},description:""},originCurrency:{required:!0,tsType:{name:"CurrencyCode"},description:""},originCurrencyBalance:{required:!0,tsType:{name:"number"},description:""},targetCurrency:{required:!0,tsType:{name:"CurrencyCode"},description:""},onExchange:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<number>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"number"}],raw:"Promise<number>"}}},description:""}}};var ExchangeButton_ExchangeButton=react_default.a.memo(ExchangeButton);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeButton/ExchangeButton.tsx"]={name:"ExchangeButton",docgenInfo:ExchangeButton.__docgenInfo,path:"src/modules/exchange/components/ExchangeButton/ExchangeButton.tsx"});__webpack_require__(80),__webpack_require__(40),__webpack_require__(103),__webpack_require__(56),__webpack_require__(118),__webpack_require__(119),__webpack_require__(149),__webpack_require__(41);var error=__webpack_require__(209);function useElementState_slicedToArray(arr,i){return function useElementState_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useElementState_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useElementState_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useElementState_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useElementState_arrayLikeToArray(o,minLen)}(arr,i)||function useElementState_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useElementState_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var hooks_useElementState=function useElementState(_ref){var on=_ref.on,off=_ref.off,_ref$initialState=_ref.initialState,initialState=void 0!==_ref$initialState&&_ref$initialState,_useState2=useElementState_slicedToArray(Object(react.useState)(initialState),2),value=_useState2[0],setValue=_useState2[1],ref=Object(react.useRef)(null),setOn=Object(react.useCallback)((function(){return setValue(!0)}),[]),setOff=Object(react.useCallback)((function(){return setValue(!1)}),[]);return[value,Object(react.useCallback)((function(node){null!=ref.current&&(ref.current.removeEventListener(on,setOn),ref.current.removeEventListener(off,setOff)),ref.current=node,null!=ref.current&&(ref.current.addEventListener(on,setOn),ref.current.addEventListener(off,setOff))}),[on,off,setOn,setOff,ref]),ref]};var hooks_useFocus=function useFocus(){return hooks_useElementState({on:"focus",off:"blur"})};__webpack_require__(148),__webpack_require__(277),__webpack_require__(167);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var balance=new function InMemoryBalanceApi(){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InMemoryBalanceApi),_defineProperty(this,"balances",lib_currencies.b),_defineProperty(this,"latest",(function(){return new Promise((function(resolve){setTimeout((function(){return resolve(_this.balances)}),100)}))})),_defineProperty(this,"exchange",function(){var _ref2=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(_ref){var _objectSpread2,exchangeRate,originCurrency,targetCurrency,originValue,balances,originSubtract,targetExchanged,originBalance,targetBalance,updatedBalances;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return exchangeRate=_ref.exchangeRate,originCurrency=_ref.originCurrency,targetCurrency=_ref.targetCurrency,originValue=_ref.originValue,_context.next=3,_this.latest();case 3:if(balances=_context.sent,originSubtract=+originValue,!(balances[originCurrency]<originSubtract)){_context.next=7;break}throw new Error("Balance to low");case 7:return targetExchanged=Object(lib_currencies.e)(originSubtract,exchangeRate),originBalance=balances[originCurrency],targetBalance=balances[targetCurrency],updatedBalances=_objectSpread({},balances,(_defineProperty(_objectSpread2={},originCurrency,+(originBalance-originSubtract).toFixed(2)),_defineProperty(_objectSpread2,targetCurrency,+(targetBalance+targetExchanged).toFixed(2)),_objectSpread2)),_this.balances=updatedBalances,_context.abrupt("return",{targetExchanged:targetExchanged,balances:updatedBalances});case 13:case"end":return _context.stop()}}),_callee)})));return function(){return _ref2.apply(this,arguments)}}())};function useExchange_slicedToArray(arr,i){return function useExchange_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useExchange_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useExchange_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useExchange_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useExchange_arrayLikeToArray(o,minLen)}(arr,i)||function useExchange_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useExchange_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useExchange_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function useExchange_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?useExchange_ownKeys(Object(source),!0).forEach((function(key){useExchange_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):useExchange_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function useExchange_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var stateReducer=function(state,action){switch(action.type){case"UPDATE_RATES":var rates=action.rates,targetCurrencyInputFocused=action.targetCurrencyInputFocused,exchangeRate=Object(lib_currencies.c)(rates,state.originCurrency,state.targetCurrency),originValue=state.originValue,targetValue=state.targetValue;return originValue&&(targetCurrencyInputFocused?originValue=Object(lib_currencies.d)(targetValue,exchangeRate):targetValue=Object(lib_currencies.f)(originValue,exchangeRate)),useExchange_objectSpread({},state,{rates:rates,exchangeRate:exchangeRate,originValue:originValue,targetValue:targetValue});case"SWITCH_CURRENCIES":var originCurrency=state.targetCurrency,targetCurrency=state.originCurrency,_exchangeRate=Object(lib_currencies.c)(state.rates,originCurrency,targetCurrency);return useExchange_objectSpread({},state,{originCurrency:originCurrency,originValue:state.targetValue,targetCurrency:targetCurrency,targetValue:state.originValue,exchangeRate:_exchangeRate});case"UPDATE_ORIGIN_VALUE":var nextOriginValue=action.value;return useExchange_objectSpread({},state,{originValue:nextOriginValue,targetValue:Object(lib_currencies.f)(nextOriginValue,state.exchangeRate)});case"UPDATE_TARGET_VALUE":var _nextTargetValue=action.value;return useExchange_objectSpread({},state,{originValue:Object(lib_currencies.d)(_nextTargetValue,state.exchangeRate),targetValue:_nextTargetValue});case"UPDATE_ORIGIN_CURRENCY":var _originCurrency=action.currency,_targetCurrency=state.targetCurrency;return _targetCurrency===_originCurrency&&(_targetCurrency=state.originCurrency),useExchange_objectSpread({},state,{originCurrency:_originCurrency,targetCurrency:_targetCurrency,exchangeRate:Object(lib_currencies.c)(state.rates,_originCurrency,_targetCurrency),recents:state.recents.add(_originCurrency)});case"UPDATE_TARGET_CURRENCY":var _targetCurrency2=action.currency,_originCurrency2=state.originCurrency;return _targetCurrency2===_originCurrency2&&(_originCurrency2=state.targetCurrency),useExchange_objectSpread({},state,{originCurrency:_originCurrency2,targetCurrency:_targetCurrency2,exchangeRate:Object(lib_currencies.c)(state.rates,_originCurrency2,_targetCurrency2),recents:state.recents.add(_targetCurrency2)});default:throw new error.a(action)}},ExchangeView_useExchange=function(_ref){var _balances$originCurre,_balances$targetCurre,balances=_ref.balances,rates=_ref.rates,updateBalances=_ref.updateBalances,origin=_ref.origin,target=_ref.target,_useReducer2=useExchange_slicedToArray(Object(react.useReducer)(stateReducer,function(originCurrency,targetCurrency){return{originCurrency:originCurrency,originValue:"",targetCurrency:targetCurrency,targetValue:"",rates:{},exchangeRate:1,recents:new Set([originCurrency,targetCurrency])}}(origin,target)),2),state=_useReducer2[0],dispatch=_useReducer2[1],_useFocus2=useExchange_slicedToArray(hooks_useFocus(),2),targetCurrencyInputFocused=_useFocus2[0],targetCurrencyInputRefFallback=_useFocus2[1];Object(react.useEffect)((function(){dispatch({type:"UPDATE_RATES",rates:rates,targetCurrencyInputFocused:targetCurrencyInputFocused})}),[rates,targetCurrencyInputFocused]);var currencies=Object.keys(state.rates),onOriginValueChange=Object(react.useCallback)((function(value){return dispatch({type:"UPDATE_ORIGIN_VALUE",value:value})}),[dispatch]),onTargetValueChange=Object(react.useCallback)((function(value){return dispatch({type:"UPDATE_TARGET_VALUE",value:value})}),[dispatch]),switchCurrencies=Object(react.useCallback)((function(){return dispatch({type:"SWITCH_CURRENCIES"})}),[dispatch]),onOriginCurrencyUpdate=Object(react.useCallback)((function(currency){return dispatch({type:"UPDATE_ORIGIN_CURRENCY",currency:currency})}),[dispatch]),onTargetCurrencyUpdate=Object(react.useCallback)((function(currency){return dispatch({type:"UPDATE_TARGET_CURRENCY",currency:currency})}),[dispatch]),originValue=state.originValue,originCurrency=state.originCurrency,targetCurrency=state.targetCurrency,exchangeRate=state.exchangeRate,originCurrencyBalance=null!==(_balances$originCurre=null==balances?void 0:balances[originCurrency])&&void 0!==_balances$originCurre?_balances$originCurre:0,targetCurrencyBalance=null!==(_balances$targetCurre=null==balances?void 0:balances[targetCurrency])&&void 0!==_balances$targetCurre?_balances$targetCurre:0,doExchange=Object(react.useCallback)((function(){return balance.exchange({exchangeRate:exchangeRate,originCurrency:originCurrency,targetCurrency:targetCurrency,originValue:originValue}).then((function(response){return updateBalances(response.balances),response.targetExchanged}))}),[exchangeRate,updateBalances,originCurrency,originValue,targetCurrency]);return{originValue:originValue,originCurrency:state.originCurrency,originCurrencyBalance:originCurrencyBalance,onOriginValueChange:onOriginValueChange,onOriginCurrencyUpdate:onOriginCurrencyUpdate,targetValue:state.targetValue,targetCurrency:targetCurrency,targetCurrencyBalance:targetCurrencyBalance,targetCurrencyInputRef:targetCurrencyInputRefFallback,onTargetValueChange:onTargetValueChange,onTargetCurrencyUpdate:onTargetCurrencyUpdate,currencies:currencies,switchCurrencies:switchCurrencies,exchangeRate:exchangeRate,recents:state.recents,doExchange:doExchange}},ExchangeView_elements=__webpack_require__(130),CurrencyView=__webpack_require__(106);function OriginCurrencyView_extends(){return(OriginCurrencyView_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var OriginCurrencyView=function(props){return react_default.a.createElement(CurrencyView.a,OriginCurrencyView_extends({startEnhancer:"-",autoFocus:!0},props))};OriginCurrencyView.displayName="OriginCurrencyView",OriginCurrencyView.__docgenInfo={description:"",methods:[],displayName:"OriginCurrencyView"};var ExchangeView_OriginCurrencyView=react_default.a.memo(OriginCurrencyView);function TargetCurrencyView_extends(){return(TargetCurrencyView_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeView/OriginCurrencyView.tsx"]={name:"OriginCurrencyView",docgenInfo:OriginCurrencyView.__docgenInfo,path:"src/modules/exchange/components/ExchangeView/OriginCurrencyView.tsx"});var TargetCurrencyView=function(props){return react_default.a.createElement(CurrencyView.a,TargetCurrencyView_extends({startEnhancer:"+"},props))};TargetCurrencyView.displayName="TargetCurrencyView",TargetCurrencyView.__docgenInfo={description:"",methods:[],displayName:"TargetCurrencyView"};var ExchangeView_TargetCurrencyView=react_default.a.memo(TargetCurrencyView);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeView/TargetCurrencyView.tsx"]={name:"TargetCurrencyView",docgenInfo:TargetCurrencyView.__docgenInfo,path:"src/modules/exchange/components/ExchangeView/TargetCurrencyView.tsx"});var ExchangeView=function(props){var _useExchange=ExchangeView_useExchange(props),originValue=_useExchange.originValue,originCurrency=_useExchange.originCurrency,originCurrencyBalance=_useExchange.originCurrencyBalance,onOriginValueChange=_useExchange.onOriginValueChange,onOriginCurrencyUpdate=_useExchange.onOriginCurrencyUpdate,targetValue=_useExchange.targetValue,targetCurrency=_useExchange.targetCurrency,targetCurrencyBalance=_useExchange.targetCurrencyBalance,targetCurrencyInputRef=_useExchange.targetCurrencyInputRef,onTargetValueChange=_useExchange.onTargetValueChange,onTargetCurrencyUpdate=_useExchange.onTargetCurrencyUpdate,switchCurrencies=_useExchange.switchCurrencies,exchangeRate=_useExchange.exchangeRate,recents=_useExchange.recents,doExchange=_useExchange.doExchange;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ExchangeView_OriginCurrencyView,{value:originValue,onValueChange:onOriginValueChange,currency:originCurrency,balance:originCurrencyBalance,recents:recents,onCurrencySelected:onOriginCurrencyUpdate}),react_default.a.createElement(ExchangeView_elements.b,null,react_default.a.createElement(CurrencySwitch_CurrencySwitch,{onClick:switchCurrencies}),react_default.a.createElement(ExchangeView_elements.c,null,react_default.a.createElement(ExchangeRate.a,{from:originCurrency,to:targetCurrency,exchangeRate:exchangeRate})),react_default.a.createElement(ExchangeView_TargetCurrencyView,{value:targetValue,onValueChange:onTargetValueChange,currency:targetCurrency,balance:targetCurrencyBalance,inputRef:targetCurrencyInputRef,onCurrencySelected:onTargetCurrencyUpdate,recents:recents}),react_default.a.createElement(ExchangeView_elements.a,null,react_default.a.createElement(ExchangeButton_ExchangeButton,{originValue:originValue,originCurrency:originCurrency,originCurrencyBalance:originCurrencyBalance,targetCurrency:targetCurrency,onExchange:doExchange}))))};ExchangeView.__docgenInfo={description:"",methods:[],displayName:"ExchangeView"};var ExchangeView_ExchangeView=ExchangeView;function ExchangeView_stories_slicedToArray(arr,i){return function ExchangeView_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ExchangeView_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ExchangeView_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ExchangeView_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ExchangeView_stories_arrayLikeToArray(o,minLen)}(arr,i)||function ExchangeView_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ExchangeView_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeView/ExchangeView.tsx"]={name:"ExchangeView",docgenInfo:ExchangeView.__docgenInfo,path:"src/modules/exchange/components/ExchangeView/ExchangeView.tsx"});__webpack_exports__.default={title:"ExchangeView"};var Base=function(){var _useState2=ExchangeView_stories_slicedToArray(Object(react.useState)(lib_currencies.b),2),balances=_useState2[0],setBalances=_useState2[1];return react_default.a.createElement(ExchangeView_ExchangeView,{balances:balances,rates:exchangeRates.a,updateBalances:setBalances,origin:"NOK",target:"EUR"})};Base.displayName="Base",Base.story=Object(utils.a)({decorators:[fullHeightDecorator.a]}),Base.__docgenInfo={description:"",methods:[],displayName:"Base"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeView/ExchangeView.stories.tsx"]={name:"Base",docgenInfo:Base.__docgenInfo,path:"src/modules/exchange/components/ExchangeView/ExchangeView.stories.tsx"})},932:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var client=__webpack_require__(204),react=__webpack_require__(0),react_default=__webpack_require__.n(react),public_api=__webpack_require__(122),browser_es5_es=__webpack_require__(161),dist_browser_es5_es=__webpack_require__(93),styletron="undefined"==typeof window?new browser_es5_es.b:new browser_es5_es.a({hydrate:document.getElementsByClassName("_styletron_hydrate_")}),base_provider=__webpack_require__(946),light_theme=__webpack_require__(935),ThemeProvider=function(_ref){var children=_ref.children;return react_default.a.createElement(base_provider.a,{theme:light_theme.a,overrides:{AppContainer:{style:{height:"100%",display:"flex",flexDirection:"column"}}}},children)};ThemeProvider.displayName="ThemeProvider",ThemeProvider.__docgenInfo={description:"",methods:[],displayName:"ThemeProvider",props:{children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var ThemeProvider_ThemeProvider=ThemeProvider;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/containers/ThemeProvider/ThemeProvider.tsx"]={name:"ThemeProvider",docgenInfo:ThemeProvider.__docgenInfo,path:"src/shared/containers/ThemeProvider/ThemeProvider.tsx"});var AppProviders=function(_ref){var children=_ref.children,_ref$engine=_ref.engine,engine=void 0===_ref$engine?styletron:_ref$engine;return react_default.a.createElement(dist_browser_es5_es.a,{value:engine,debug:void 0,debugAfterHydration:!0},react_default.a.createElement(ThemeProvider_ThemeProvider,null,children))};AppProviders.displayName="AppProviders",AppProviders.__docgenInfo={description:"",methods:[],displayName:"AppProviders",props:{engine:{defaultValue:{value:"styletron",computed:!0},required:!1,tsType:{name:"union",raw:"Client | Server",elements:[{name:"Client"},{name:"Server"}]},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var AppProviders_AppProviders=AppProviders;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/containers/AppProviders/AppProviders.tsx"]={name:"AppProviders",docgenInfo:AppProviders.__docgenInfo,path:"src/shared/containers/AppProviders/AppProviders.tsx"});var providers_engine=new browser_es5_es.a,providers=Object(public_api.makeDecorator)({name:"AppProviders",parameterName:"withAppProviders",skipIfNoParametersOrOptions:!1,wrapper:function wrapper(story,context,_ref){_ref.parameters;return react_default.a.createElement(AppProviders_AppProviders,{engine:providers_engine},story(context))}});Object(client.addDecorator)(providers)},933:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),exchangeRates=__webpack_require__(124),utils=__webpack_require__(127),fullHeightDecorator=__webpack_require__(123),styled=(__webpack_require__(11),__webpack_require__(18),__webpack_require__(19),__webpack_require__(35),__webpack_require__(27),__webpack_require__(26),__webpack_require__(14),__webpack_require__(101),__webpack_require__(42),__webpack_require__(20),__webpack_require__(28),__webpack_require__(32),__webpack_require__(13),__webpack_require__(23),__webpack_require__(15),__webpack_require__(16),__webpack_require__(165)),typography=__webpack_require__(43),arrow_left=__webpack_require__(948),button_button=__webpack_require__(956),SpacedBetween=__webpack_require__(162),Link=__webpack_require__(211),nivo_stream_esm=__webpack_require__(471);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ExchangeRateHistoryStream=function(_ref){var data=_ref.data,_useStyletron2=_slicedToArray(Object(styled.b)(),2),css=_useStyletron2[0],theme=_useStyletron2[1];return react_default.a.createElement(nivo_stream_esm.a,{data:data,keys:["value"],axisTop:null,axisRight:null,axisBottom:null,axisLeft:null,tooltipLabel:function tooltipLabel(){return null},offsetType:"none",enableGridX:!1,dotColor:theme.colors.accent400,animate:!0,theme:{tooltip:{container:{padding:"0px"},tableCell:{padding:"0px"}}},tooltipFormat:function tooltipFormat(opts){var _ref3=opts;return function tooltipFormat(_ref2){var index=_ref2.index,value=_ref2.value;return react_default.a.createElement("div",{className:css({display:"flex",position:"relative"})},react_default.a.createElement(typography.e,{$style:{opacity:.5},padding:theme.sizing.scale100},data[index].time),react_default.a.createElement("div",{className:css({width:"1px",top:0,bottom:0,backgroundColor:theme.colors.primary100})}),react_default.a.createElement(typography.e,{marginLeft:theme.sizing.scale300,padding:theme.sizing.scale100},value))}({value:_ref3.value,index:_ref3.index})},defs:[{id:"primary",type:"linearGradient",colors:[{offset:0,color:theme.colors.accent400},{offset:100,color:theme.colors.accent100}]}],fill:[{match:"*",id:"primary"}]})};ExchangeRateHistoryStream.displayName="ExchangeRateHistoryStream",ExchangeRateHistoryStream.__docgenInfo={description:"",methods:[],displayName:"ExchangeRateHistoryStream",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; time: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"time",value:{name:"string",required:!0}}]}}],raw:"{ value: string; time: string }[]"},description:""}}};var ExchangeRateHistory_ExchangeRateHistoryStream=ExchangeRateHistoryStream;function DateUnitTab_slicedToArray(arr,i){return function DateUnitTab_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DateUnitTab_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DateUnitTab_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DateUnitTab_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DateUnitTab_arrayLikeToArray(o,minLen)}(arr,i)||function DateUnitTab_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DateUnitTab_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeRateHistory/ExchangeRateHistoryStream.tsx"]={name:"ExchangeRateHistoryStream",docgenInfo:ExchangeRateHistoryStream.__docgenInfo,path:"src/modules/exchange/components/ExchangeRateHistory/ExchangeRateHistoryStream.tsx"});var DateUnitTab=function(_ref){var unit=_ref.unit,_ref$active=_ref.active,active=void 0!==_ref$active&&_ref$active,_ref$amount=_ref.amount,amount=void 0===_ref$amount?1:_ref$amount,onClick=_ref.onClick,_useStyletron2=DateUnitTab_slicedToArray(Object(styled.b)(),2),theme=(_useStyletron2[0],_useStyletron2[1]);return react_default.a.createElement(button_button.a,{kind:"minimal",$style:{boxSizing:"border-box",borderTopStyle:"solid",borderTopWidth:active?theme.sizing.scale0:"1px",borderTopColor:active?theme.colors.black:theme.colors.primary400,width:"100%","@media screen and (max-width: 680px)":{padding:theme.sizing.scale0},"@media screen and (max-width: 880px)":{padding:theme.sizing.scale100}},onClick:onClick},react_default.a.createElement(typography.e,{margin:0,padding:theme.sizing.scale500,$style:{opacity:active?1:.5}},amount,unit))};DateUnitTab.displayName="DateUnitTab",DateUnitTab.__docgenInfo={description:"",methods:[],displayName:"DateUnitTab",props:{active:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},amount:{defaultValue:{value:"1",computed:!1},required:!1},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void",signature:{arguments:[{name:"event",type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement, MouseEvent>",elements:[{name:"HTMLButtonElement"},{name:"MouseEvent"}]}}],return:{name:"void"}}},description:""}}};var ExchangeRateHistory_DateUnitTab=react_default.a.memo(DateUnitTab);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeRateHistory/DateUnitTab.tsx"]={name:"DateUnitTab",docgenInfo:DateUnitTab.__docgenInfo,path:"src/modules/exchange/components/ExchangeRateHistory/DateUnitTab.tsx"});var SUPPORTED_GRANULARITIES=[{unit:"d",amount:1},{unit:"w",amount:1},{unit:"m",amount:1},{unit:"m",amount:3},{unit:"m",amount:6},{unit:"y",amount:1}],esm_format=(__webpack_require__(293),__webpack_require__(40),__webpack_require__(104),__webpack_require__(928),__webpack_require__(929),__webpack_require__(117),__webpack_require__(41),__webpack_require__(954)),subHours=__webpack_require__(959),subWeeks=__webpack_require__(958),subMonths=__webpack_require__(951),subYears=__webpack_require__(960),differenceInSeconds=__webpack_require__(961),subSeconds=__webpack_require__(962),error=__webpack_require__(209),timeFormatter=function(date){return Object(esm_format.a)(date,"HH:mm")},dayTimeFormatter=function(date){return Object(esm_format.a)(date,"dd MMMM, HH:mm")},dayFormatter=function(date){return Object(esm_format.a)(date,"dd MMMM")},dateFormatter=function(_ref){var unit=_ref.unit,amount=_ref.amount;switch(unit){case"d":return timeFormatter;case"w":case"m":return 1===amount?dayTimeFormatter:dayFormatter;default:return dayFormatter}},getIntervalStart=function(date,_ref2){var unit=_ref2.unit,amount=_ref2.amount;switch(unit){case"d":return Object(subHours.a)(date,amount);case"w":return Object(subWeeks.a)(date,amount);case"m":return Object(subMonths.a)(date,amount);case"y":return Object(subYears.a)(date,amount);default:throw new error.a(unit)}},priceFormatter=function(value){return value.toFixed(4)},FlexColumn=__webpack_require__(109);function PriceTag_slicedToArray(arr,i){return function PriceTag_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PriceTag_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PriceTag_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PriceTag_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PriceTag_arrayLikeToArray(o,minLen)}(arr,i)||function PriceTag_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PriceTag_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PriceTag=function(_ref){var price=_ref.price,tag=_ref.tag,_useStyletron2=PriceTag_slicedToArray(Object(styled.b)(),2),theme=(_useStyletron2[0],_useStyletron2[1]);return react_default.a.createElement(FlexColumn.a,{$style:{opacity:"current"===tag?1:.5,textAlign:"center"}},react_default.a.createElement(typography.c,{margin:0},(+price).toFixed(4)),react_default.a.createElement(typography.c,{marginTop:theme.sizing.scale100,marginBottom:theme.sizing.scale100},tag))};PriceTag.displayName="PriceTag",PriceTag.__docgenInfo={description:"",methods:[],displayName:"PriceTag",props:{price:{required:!0,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},tag:{required:!0,tsType:{name:"string"},description:""}}};var ExchangeRateHistory_PriceTag=react_default.a.memo(PriceTag);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ExchangeRateHistory_slicedToArray(arr,i){return function ExchangeRateHistory_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ExchangeRateHistory_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ExchangeRateHistory_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ExchangeRateHistory_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ExchangeRateHistory_arrayLikeToArray(o,minLen)}(arr,i)||function ExchangeRateHistory_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ExchangeRateHistory_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeRateHistory/PriceTag.tsx"]={name:"PriceTag",docgenInfo:PriceTag.__docgenInfo,path:"src/modules/exchange/components/ExchangeRateHistory/PriceTag.tsx"});var ExchangeRateHistory=function(_ref){var exchangeRate=_ref.exchangeRate,origin=_ref.origin,target=_ref.target,_useState2=ExchangeRateHistory_slicedToArray(Object(react.useState)(SUPPORTED_GRANULARITIES[0]),2),granularity=_useState2[0],setGranularity=_useState2[1],_useStyletron2=ExchangeRateHistory_slicedToArray(Object(styled.b)(),2),theme=(_useStyletron2[0],_useStyletron2[1]),chartRef=Object(react.useRef)(null),_useMemo2=ExchangeRateHistory_slicedToArray(Object(react.useMemo)((function(){var _generateHistoricalDa=function(exchangeRate,granularity){var numTicks=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,format=dateFormatter(granularity),dateAcc=new Date,dateIntervalStart=getIntervalStart(dateAcc,granularity),intervalDiffSeconds=Object(differenceInSeconds.a)(dateAcc,dateIntervalStart),ticksToGenerate=numTicks-1,lowest=Number.MAX_SAFE_INTEGER,highest=Number.MIN_SAFE_INTEGER,priceAcc=exchangeRate,data=[{value:priceFormatter(exchangeRate),time:format(dateAcc)}];return Array(ticksToGenerate).fill(0).forEach((function(){dateAcc=Object(subSeconds.a)(dateAcc,intervalDiffSeconds/ticksToGenerate),(priceAcc=Object(exchangeRates.b)(priceAcc,.05))<lowest&&(lowest=priceAcc),priceAcc>highest&&(highest=priceAcc),data.unshift({value:priceFormatter(priceAcc),time:format(dateAcc)})})),{data:data,lowest:lowest,highest:highest}}(exchangeRate,granularity);return[_generateHistoricalDa.data,_generateHistoricalDa.lowest,_generateHistoricalDa.highest]}),[exchangeRate,granularity]),3),data=_useMemo2[0],lowest=_useMemo2[1],highest=_useMemo2[2],chartWrapperCallback=Object(react.useCallback)((function(chartWrapper){if(chartRef.current&&chartRef.current.element.removeEventListener("DOMSubtreeModified",chartRef.current.listener),chartWrapper){var listener=function(){var chartContainer=chartWrapper.firstElementChild.firstElementChild;chartContainer&&(chartContainer.style.flex="flex: 1 1 0%;",chartContainer.style.display="flex")};chartRef.current={listener:listener,element:chartWrapper},chartWrapper.addEventListener("DOMSubtreeModified",listener)}}),[]);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Link.a,{to:"/?from=".concat(origin,"&to=").concat(target)},react_default.a.createElement(button_button.a,{kind:"minimal",$style:{position:"absolute"},"data-testid":"navigate-back"},react_default.a.createElement(arrow_left.a,{size:theme.sizing.scale900}))),react_default.a.createElement(typography.b,{$style:{textAlign:"center"}},origin," → ",target),react_default.a.createElement(SpacedBetween.a,{$style:{padding:theme.sizing.scale800}},react_default.a.createElement(ExchangeRateHistory_PriceTag,{price:lowest,tag:"lowest"}),react_default.a.createElement(ExchangeRateHistory_PriceTag,{price:data[data.length-1].value,tag:"current"}),react_default.a.createElement(ExchangeRateHistory_PriceTag,{price:highest,tag:"highest"})),react_default.a.createElement("div",{style:{flex:1},ref:chartWrapperCallback},react_default.a.createElement(ExchangeRateHistory_ExchangeRateHistoryStream,{data:data})),react_default.a.createElement(SpacedBetween.a,null,SUPPORTED_GRANULARITIES.map((function(current){return react_default.a.createElement(ExchangeRateHistory_DateUnitTab,_extends({},current,{active:granularity===current,key:"".concat(current.amount).concat(current.unit),onClick:function onClick(){return setGranularity(current)}}))}))))};ExchangeRateHistory.__docgenInfo={description:"",methods:[],displayName:"ExchangeRateHistory",props:{exchangeRate:{required:!0,tsType:{name:"number"},description:""},origin:{required:!0,tsType:{name:"CurrencyCode"},description:""},target:{required:!0,tsType:{name:"CurrencyCode"},description:""}}};var ExchangeRateHistory_ExchangeRateHistory=react_default.a.memo(ExchangeRateHistory);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeRateHistory/ExchangeRateHistory.tsx"]={name:"ExchangeRateHistory",docgenInfo:ExchangeRateHistory.__docgenInfo,path:"src/modules/exchange/components/ExchangeRateHistory/ExchangeRateHistory.tsx"});__webpack_exports__.default={title:"ExchangeRateHistory"};var Base=function(){return react_default.a.createElement(ExchangeRateHistory_ExchangeRateHistory,{exchangeRate:exchangeRates.a.EUR,origin:"NOK",target:"EUR"})};Base.displayName="Base",Base.story=Object(utils.a)({decorators:[fullHeightDecorator.a]}),Base.__docgenInfo={description:"",methods:[],displayName:"Base"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modules/exchange/components/ExchangeRateHistory/ExchangeRateHistory.stories.tsx"]={name:"Base",docgenInfo:Base.__docgenInfo,path:"src/modules/exchange/components/ExchangeRateHistory/ExchangeRateHistory.stories.tsx"})}},[[481,1,2]]]);
//# sourceMappingURL=main.9004f32becb9bb71fc11.bundle.js.map